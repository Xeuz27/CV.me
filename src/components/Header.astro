---
const { locale } = Astro.props;
import LanguageSwitcher from "./LanguageSwitcher.astro";
const links = [
  { href: `/${locale}`, display: "Inicio" },
  {
    href: `/${locale}/casos-de-estudio`,
    display: "Casos de Estudio"
  }
];
---

<nav
  class="fixed left-0 right-0 top-0 flex h-16 w-full items-center bg-main/90 px-4 backdrop-blur-sm sm:px-16 print:hidden"
>
  <ul
    class="flex h-full w-full items-center justify-between gap-0 text-2xl font-semibold text-neutral-400/80 max-sm:text-lg max-sm:text-[#787878] sm:justify-center sm:gap-2"
  >
    {
      links.map((link) => (
        <li class="h-full cursor-pointer place-content-center whitespace-nowrap border-b-4 border-transparent bg-gradient-to-b from-[-80%] to-transparent to-80% px-2 transition-all duration-500 hover:border-[#dfdfdf] hover:from-[rgb(9,31,92)] hover:text-[#dfdfdf] hover:drop-shadow-[0_0px_8px_rgb(16,62,184)] sm:px-6 first:sm:ml-auto">
          <a title={link.display} href={link.href}>
            {link.display}
          </a>
        </li>
      ))
    }
    <li
      class="h-full cursor-pointer place-content-center whitespace-nowrap border-b-4 border-transparent bg-gradient-to-b from-[-80%] to-transparent to-80% px-2 transition-all duration-500 hover:border-[#dfdfdf] hover:from-[rgb(9,31,92)] hover:text-[#dfdfdf] hover:drop-shadow-[0_0px_8px_rgb(16,62,184)] sm:ml-auto"
    >
      {Astro.currentLocale}
    </li>
    <li
      class="h-full cursor-pointer place-content-center whitespace-nowrap border-b-4 border-transparent bg-gradient-to-b from-[-80%] to-transparent to-80% px-2 transition-all duration-500 hover:border-[#dfdfdf] hover:from-[rgb(9,31,92)] hover:text-[#dfdfdf] hover:drop-shadow-[0_0px_8px_rgb(16,62,184)] sm:ml-auto"
    >
      {Astro.url}
    </li>
    <li
      class="h-full cursor-pointer place-content-center whitespace-nowrap border-b-4 border-transparent bg-gradient-to-b from-[-80%] to-transparent to-80% px-2 transition-all duration-500 hover:border-[#dfdfdf] hover:from-[rgb(9,31,92)] hover:text-[#dfdfdf] hover:drop-shadow-[0_0px_8px_rgb(16,62,184)] sm:ml-auto"
    >
      <LanguageSwitcher />
    </li>
  </ul>
</nav>

<script>
  document.addEventListener("astro:page-load", () => {
    const links = document.querySelectorAll("nav ul li");

    links.forEach((li) => {
      li.addEventListener("click", () => {
        const link = li.querySelector("a");
        if (link) {
          // Trigger the click event on the <a> tag
          link.click();
        }
      });
    });
  });
</script>
